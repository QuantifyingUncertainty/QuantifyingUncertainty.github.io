<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Quantifyinguncertainty.GitHub.io by QuantifyingUncertainty</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Quantifyinguncertainty.GitHub.io</h1>
      <h2 class="project-tagline"></h2>
    </section>

    <section class="main-content">
      <h2>
<a id="1-introduction" class="anchor" href="#1-introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="intro"></a>1. Introduction</h2>

<p>The "Quantifying Uncertainty" project develops code, examples and documentation for the Generalized Metropolis-Hastings (GMH) algorithm detailed in <a href="#calder14">(Calderhead, 2014)</a>. It implements parallelized Monte-Carlo Markov Chains methods (MCMC) to estimate model parameters of complex physical and biological processes. The GMH algorithm has been used to that end in the scientific publications detailed in the <a href="#refs">References</a>.</p>

<p>The GMH MCMC code is written in <a href="http://julialang.org">Julia</a>, a language designed for fast and flexible technical computing. It combines aspects of R, MATLAB and Python and can be easily parallelized to take advantage of multi-processor computers and clusters. It has an active developer community making Julia technical computing available on Windows, Linux and Mac, and via cloud computing services such as <a href="http://juliabox.org/">JuliaBox</a> or <a href="http://aws.amazon.com/">Amazon Web Services</a> (AWS).</p>

<p>There are 2 different, potentially overlapping, situations in which to use the GMH functionality:</p>

<ol>
<li>To replicate MCMC experiments from <a href="#refs">published scientific papers</a>. In this case, we recommend to run the experiments from a pre-compiled machine image published on AWS. The machine images contain all the required code, libraries and data to run the MCMC experiments for a particular article, substantially reducing your set-up time. By following the AWS setup steps below, you will be able to run these experiments via a web browser such as Firefox or Chrome.</li>
<li>To use the GMH library to design your own MCMC experiments. The preferred way in this case is to download the GMH repository from GitHub to your local machine or to work in the cloud via <a href="http://juliabox.org">JuliaBox</a>. </li>
</ol>

<p>The GMH repository resides on <a href="https://github.com/QuantifyingUncertainty/GeneralizedMetropolisHastings.jl">GitHub</a>. Documentation and examples to develop your own MCMC experiments are included in the repository. The remainder of the documentation below outlines how to set up and use the GMH repository on different platforms (AWS, JuliaBox, or your local machine). It explains in detail how to sign up for AWS, how to start and use a published AMI, how to use the GMH repository on <a href="http://juliabox.org">Juliabox</a> or on your local machine, and how to publish your own AMI to accompany the publication of scientific articles that use the GMH repository.</p>

<h2>
<a id="2-acronyms" class="anchor" href="#2-acronyms" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="acronyms"></a>2. Acronyms</h2>

<table>
<thead>
<tr>
<th align="center">Acronym</th>
<th align="left">Full Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>AMI</strong></td>
<td align="left">Amazon Machine Image</td>
<td align="left">An pre-compiled software image for a virtual server</td>
</tr>
<tr>
<td align="center"><strong>AWS</strong></td>
<td align="left">Amazon Web Services</td>
<td align="left">Amazon's cloud computing services</td>
</tr>
<tr>
<td align="center"><strong>EC2</strong></td>
<td align="left">Elastic Cloud Computing</td>
<td align="left">AWS service to run virtual servers</td>
</tr>
<tr>
<td align="center"><strong>IAM</strong></td>
<td align="left">Identity and Access Management</td>
<td align="left">AWS service to create users and manage access to other services</td>
</tr>
<tr>
<td align="center"><strong>GMH</strong></td>
<td align="left">Generalized Metropolis Hastings</td>
<td align="left">Parallel Metropolis Hastings from <a href="#calder14">(Calderhead, 2014)</a>
</td>
</tr>
<tr>
<td align="center"><strong>MCMC</strong></td>
<td align="left"><a href="https://en.wikipedia.org/wiki/Markov_chain_Monte_Carlo">Monte-Carlo Markov Chain</a></td>
<td align="left">Class of algorithms to sample from unknown probability distributions</td>
</tr>
</tbody>
</table>

<h2>
<a id="3-aws-setup" class="anchor" href="#3-aws-setup" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="aws-setup"></a>3. AWS Setup</h2>

<h3>
<a id="step-31-sign-up-for-an-aws-account" class="anchor" href="#step-31-sign-up-for-an-aws-account" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="aws-signup"></a>Step 3.1: Sign up for an AWS account</h3>

<p>This step requires a credit card to set up an account and a phone number to receive a security callback. By using Amazon's "Free Tier", it is possible to avoid being billed, but the credit card is still required. Follow the instructions in the following AWS documentation:</p>

<p><a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/get-set-up-for-amazon-ec2.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/get-set-up-for-amazon-ec2.html</a></p>

<p>You should complete the following steps: </p>

<ol>
<li>Create an AWS account</li>
<li>Create one or more IAM users</li>
<li>Create a Key Pair</li>
<li>Create a Security Group. </li>
</ol>

<h3>
<a id="required-security-group-settings" class="anchor" href="#required-security-group-settings" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="sg-rules"></a>Required Security Group Settings</h3>

<p>When setting up the Security Group, specify the following inbound rules:</p>

<table>
<thead>
<tr>
<th align="left">Service</th>
<th align="center">Port</th>
<th align="center">Source</th>
<th align="left">Access</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">SSH</td>
<td align="center">22</td>
<td align="center">0.0.0.0/0</td>
<td align="left">SSH command-line access</td>
</tr>
<tr>
<td align="left">Custom TCP Rule</td>
<td align="center">8898</td>
<td align="center">0.0.0.0/0</td>
<td align="left">Web browser access to IJulia server</td>
</tr>
<tr>
<td align="left">Custom TCP Rule</td>
<td align="center">49152 - 65535</td>
<td align="center">127.0.0.1/32</td>
<td align="left">Localhost ports for IJulia server</td>
</tr>
</tbody>
</table>

<p>The “0.0.0.0/0” in the “Source” field means that incoming connections from any IP address are allowed. You can make the security group more secure by only allowing incoming connections from known IP addresses (e.g., "My IP" in the EC2 control panel). This means, however, that every time you change your local IP address you will have to update the Security Group. As long as you are careful in the steps outlined in Securing the Jupyter server, the above settings should be fine.</p>

<p>The entire process of setting up an AWS account is likely to take between 1 and 2 hours, depending on your familiarity with AWS. These steps need to be completed only once.</p>

<h3>
<a id="step-32-open-the-ec2-dashboard-and-check-the-region" class="anchor" href="#step-32-open-the-ec2-dashboard-and-check-the-region" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="aws-region"></a>Step 3.2: Open the EC2 dashboard and check the region</h3>

<p>This step typically needs to be performed only once - especially upon first signing up for AWS or if you cannot see the published AMIs listed below. From the AWS console, select “EC2”. The EC2 dashboard will open.</p>

<p>Amazon regions (data centers) are independent. In order to find the AMIs described below, you need to make sure that you are logged into the correct region. At this moment, the only region in which the pre-compiled AMIs are published is “Ireland”. Check this in the top right corner of the EC2 dashboard, between your IAM username and “Support”.</p>

<h2>
<a id="-4-using-gmh-on-a-pre-compiled-ami" class="anchor" href="#-4-using-gmh-on-a-pre-compiled-ami" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="gmh-on-aws"></a> 4. Using GMH on a pre-compiled AMI</h2>

<h3>
<a id="published-amis" class="anchor" href="#published-amis" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ami-pub"></a>Published AMIs</h3>

<table>
<thead>
<tr>
<th align="left">AMI Name</th>
<th align="left">AMI ID</th>
<th align="left">Description</th>
<th align="left">Relevant Publication</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">GMH-IJULIA-1</td>
<td align="left">ami-b187b5c6</td>
<td align="left">"Vanilla" installation of GMH</td>
<td align="left"><a href="#calder14">(Calderhead,2014)</a></td>
</tr>
</tbody>
</table>

<h3>
<a id="step-41-launch-a-published-ami" class="anchor" href="#step-41-launch-a-published-ami" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="launch-ami"></a>Step 4.1: Launch a published AMI</h3>

<h4>
<a id="step-411-choose-ami" class="anchor" href="#step-411-choose-ami" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4.1.1: Choose AMI</h4>

<p>Once logged into the AWS dashboard, go to the EC2 console. Select <strong>Instances</strong> in the left-hand menu, and click the <strong>Launch</strong> button at the top of the panel. Select <strong>Community AMIs</strong> from the left-hand menu and in the search box that appears, copy-paste one of the published AMI names from the table above. Click the <strong>Select</strong> button to launch the AMI.</p>

<p><strong>Troubleshooting</strong>: if no AMI appears in the list, then check <a href="#aws-region">Step3.2</a>.</p>

<h4>
<a id="step-412-choose-an-instance-type" class="anchor" href="#step-412-choose-an-instance-type" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4.1.2: Choose an Instance Type</h4>

<p>Here you select the physical hardware on which to run. To avoid being billed, select an instance labelled with "Free tier eligible" (currently the t2.micro). Click <strong>Next: Configure Instance Details.</strong></p>

<h4>
<a id="step-413-configure-instance-details" class="anchor" href="#step-413-configure-instance-details" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4.1.3: Configure Instance Details</h4>

<p>From the "Subnet" drop-down list, select a subnet that corresponds to a particular availability zone, which is important if you will also attach an existing EBS-backed volume to contain your data (this is optional - see Step 4.3 below). Make a note of which availability zone you select (currently <strong>eu-west-1a</strong>, <strong>eu-west-1b</strong> or <strong>eu-west-1c</strong>). Choose <strong>Next: Add Storage</strong> at the bottom of the page.</p>

<h4>
<a id="step-414-add-storage" class="anchor" href="#step-414-add-storage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4.1.4: Add Storage</h4>

<p><strong>Optional</strong>: you can add an additional drive to contain your private data and code. Rather than doing it here, see the explanation in <a href="#add-ebs">Step 4.3</a>. Click <strong>Next: Tag Instance</strong>.</p>

<h4>
<a id="step-415-tag-instance" class="anchor" href="#step-415-tag-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4.1.5: Tag Instance</h4>

<p><strong>Optional</strong>: add a descriptive tag for your instance. Then click <strong>Next: Configure Security Group</strong>.</p>

<h4>
<a id="step-416-configure-security-group" class="anchor" href="#step-416-configure-security-group" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4.1.6: Configure Security Group</h4>

<p>Select the radio button “Select an existing security group” and select the security group for IJulia access that you made in <a href="#sg-rules">Step 3.1</a>. Click <strong>Next: Review and Launch</strong>.</p>

<h4>
<a id="step-417-review-and-launch" class="anchor" href="#step-417-review-and-launch" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4.1.7: Review and Launch</h4>

<p>It is quite safe to ignore the warning that the security group is open to the world (if the further security steps outlined in Step 4.1.10 are adhered to). Click <strong>Launch</strong> at the bottom of the page. A pop-up window comes up. If you previously made a Key Pair, select <strong>Choose an existing key pair</strong>. Otherwise select <strong>Create a new key pair</strong> and make sure to download the private key. </p>

<p>Click <strong>Launch Instances”. On the next window, **Launch Status</strong>, click <strong>View Instances</strong>, which takes you to the Instances page. Once the <strong>Instance State</strong> is <strong>running</strong>, you can connect via SSH. </p>

<p>If you are using Windows and PuTTy to connect, follow these instructions to transform your local key:
<a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/get-set-up-for-amazon-ec2.html#create-a-key-pair">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/get-set-up-for-amazon-ec2.html#create-a-key-pair</a></p>

<h3>
<a id="step-42-connect-to-a-running-instance" class="anchor" href="#step-42-connect-to-a-running-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ami-connect"></a>Step 4.2: Connect to a running instance</h3>

<p>Instructions on how to connect to the instance can be found here:</p>

<p><a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-connect-to-instance-linux.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-connect-to-instance-linux.html</a></p>

<p>The default username for this machine is <strong>ubuntu</strong>. There is no password, but verification occurs with the Key Pair you created previously.</p>

<p><strong>Troubleshooting</strong>: if you can’t connect, then it may be because of the security group settings you launched the machine with. Check that they correspond to the ones in <a href="#sg-rules">Table 1</a>. If you opted to not allow access from all IP addresses (i.e., did not select 0.0.0.0/0 in <a href="sg-rules">Table 1</a>), then make sure that the IP address in the Security Group is the same as the IP address of your local machine (visit <a href="http://myipaddress.com">http://myipaddress.com</a> to find out).</p>

<h3>
<a id="step-43-add-an-ebs-volume" class="anchor" href="#step-43-add-an-ebs-volume" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="add-ebs"></a>Step 4.3: Add an EBS Volume</h3>

<p><strong>Optional</strong>: you can add additional storage to hold your own data and experiments by following these instructions: </p>

<p><a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-add-volume-to-instance.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-add-volume-to-instance.html</a> </p>

<p>When connected to the instance via SSH, mount the new volume in the home folder rather than in the values suggested in the AWS user guide.</p>

<pre><code>sudo mount /dev/xvdf ~/data
</code></pre>

<p>If you create an extra volume, don't make it too large as the Free Tier only comes with 30GB of free storage.</p>

<h3>
<a id="step-44-secure-the-jupyter-server" class="anchor" href="#step-44-secure-the-jupyter-server" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="secure-jupyter"></a>Step 4.4: Secure the Jupyter server</h3>

<p>For the latest information see the documentation from the <a href="http://jupyter-notebook.readthedocs.org/en/latest/public_server.html">Jupyter</a> pages.</p>

<h4>
<a id="step-441-prepare-a-hashed-password" class="anchor" href="#step-441-prepare-a-hashed-password" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="password-jupyter"></a>Step 4.4.1: Prepare a Hashed Password</h4>

<p>At the SSH command prompt, type:</p>

<pre><code>ipython
</code></pre>

<p>In the IPython environment, execute:</p>

<pre><code>from notebook.auth import passwd
passwd()
</code></pre>

<p>Type your preferred password twice. You will then see an SHA hash of the chosen password such as:</p>

<p>'sha1:328ae2b31aaa:82ecb6479a0d5c9d999c36f7949b26e78c69133e'</p>

<p>Copy-and-paste the SHA hash of the password to a secure location as we will need it in the following step.</p>

<p><strong>Important</strong>: select a secure password, consisting preferably of 3 unconnected words, e.g., "apple-spring-saxophone". If the password you select here is not secure, then your AWS server is vulnerable to attack as the Jupyter Notebook server allows any system command to be executed via a web browser.</p>

<p>Exit the ipython environment by typing <strong>exit()</strong></p>

<h4>
<a id="step-442-add-the-hashed-password-to-your-notebook-configuration-file" class="anchor" href="#step-442-add-the-hashed-password-to-your-notebook-configuration-file" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="password-file"></a>Step 4.4.2: Add the hashed password to your Notebook configuration file</h4>

<p>Add your own SHA password to the file <strong>/home/ubuntu/.jupyter/jupyter_notebook_config.py</strong>:</p>

<pre><code>c.NotebookApp.password = u'sha1:67c9e60bb8b6:9ffede0825894254b2e042ea597d771089e11aed'
</code></pre>

<p><strong>Tip</strong>: if you are unfamiliar with command-line Linux, the easiest text editor is pico, i.e.:</p>

<pre><code>pico ~/.jupyter/jupyter_notebook_config.py
</code></pre>

<p>will open the required file for editing.</p>

<h4>
<a id="step-443-using-ssl-for-encrypted-communication" class="anchor" href="#step-443-using-ssl-for-encrypted-communication" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ssl-jupyter"></a>Step 4.4.3: Using SSL for encrypted communication</h4>

<p>You must create a self-signed SSL certificate to encrypt the communication to the Jupyter server by executing:</p>

<pre><code>mkdir ~/.certificates
cd ~/.certificates
openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout mykey.pem -out mycert.pem
</code></pre>

<p>Press enter to accept all the default values. Please keep the locations and names of the key file and certificate file as above because the jupyter_notebook_config.py file has been pre-configured to find the files in that location (see <a href="#ec2-jupyter-remote">Step 7.5</a>).</p>

<h3>
<a id="step-45-launch-a-jupyter-notebook-server" class="anchor" href="#step-45-launch-a-jupyter-notebook-server" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="launch-jupyter"></a>Step 4.5: Launch a Jupyter Notebook server</h3>

<p>On the SSH command line, you can start the Jupyter Notebook server:</p>

<pre><code>cd ~
jupyter notebook &amp;
</code></pre>

<p>The <strong>&amp;</strong> above means that the notebook server is placed in the background. Once you see that the server is running on Port 8998, you can log out of the SSH session, and the server will continue to run in the background until the instance is terminated.</p>

<p>To connect via your browser, get the public IP address of your running instance from the EC2 console (the “Instances”) page and type the following in the address bar of your web browser:</p>

<pre><code>https://xxx.xxx.xxx.xxx:8998
</code></pre>

<p>It is likely that the browser will complain that the connection is unsafe because of the self-signed SSL certificate. You can safely ignore these warnings. </p>

<p>You are now at the Jupyter/IJulia login page. Type the plain text password you created in Step 4.4.1.</p>

<h2>
<a id="-5-using-gmh-in-juliabox" class="anchor" href="#-5-using-gmh-in-juliabox" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="gmh-on-box"></a> 5. Using GMH in JuliaBox</h2>

<p>Coming soon...</p>

<h2>
<a id="6-using-gmh-locally" class="anchor" href="#6-using-gmh-locally" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="gmh-on-local"></a>6. Using GMH locally</h2>

<h3>
<a id="step-61-install-julia--ide" class="anchor" href="#step-61-install-julia--ide" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 6.1: Install Julia + IDE</h3>

<p>Install the latest version of Julia for your machine from <a href="http://julialang.org/downloads/">http://julialang.org/downloads/</a>. You can also install a development environment. On Windows, <a href="http://junolab.org/">Juno</a> is recommended.</p>

<h3>
<a id="step-62-install-the-gmh-package" class="anchor" href="#step-62-install-the-gmh-package" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 6.2: Install the GMH package</h3>

<p>Open Julia and execute the following commands:</p>

<pre><code>Pkg.clone("git://github.com/QuantifyingUncertainty/GeneralizedMetropolisHastings.jl")
Pkg.update()
</code></pre>

<p>This will install the GMH repository and the required packages, and, if required, update them to the latest version.</p>

<p>The GMH repository has been tested with Julia v0.3.11 and v0.4.0. Julia and its packages are in rapid development and you may wish to test your current Julia installation with GMH. You can do so by running the GMH tests:</p>

<pre><code>include(normpath(Pkg.dir(),"GeneralizedMetropolisHasints/test/runtests.jl"))
</code></pre>

<h3>
<a id="step-63-install-the-gmh-examples-repository" class="anchor" href="#step-63-install-the-gmh-examples-repository" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 6.3 Install the GMH-Examples repository</h3>

<h2>
<a id="7-ami-with-gmh--julia-v0311" class="anchor" href="#7-ami-with-gmh--julia-v0311" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="gmh-ami-setup"></a>7. AMI with GMH + Julia v0.3.11</h2>

<p>Notes to prepare a Ubuntu AMI with Julia 0.3.11, the GMH repository and an IJulia server.</p>

<h3>
<a id="step-71-launch-an-ec2-instance" class="anchor" href="#step-71-launch-an-ec2-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ec2-launch"></a>Step 7.1 Launch an EC2 instance</h3>

<p>Follow these instructions to launch a new machine instance:</p>

<p><a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-launch-instance_linux.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-launch-instance_linux.html</a></p>

<p>Choose the Ubuntu Server 14.04 LTS (or a later version of Ubuntu). </p>

<h3>
<a id="step-72-connect-to-the-ec2-instance" class="anchor" href="#step-72-connect-to-the-ec2-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ec2-connect"></a>Step 7.2: Connect to the EC2 instance</h3>

<p>Follow the instructions of <a href="#ami-connect">Step 4.2</a>.</p>

<h3>
<a id="step-73-install-julia-03-currently-0311" class="anchor" href="#step-73-install-julia-03-currently-0311" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ec2-install-julia"></a>Step 7.3 Install Julia 0.3 (currently 0.3.11)</h3>

<pre><code>sudo add-apt-repository ppa:staticfloat/julia-deps
sudo add-apt-repository ppa:staticfloat/juliareleases
sudo apt-get update
sudo apt-get -y install build-essential
sudo apt-get -y install julia0.3
</code></pre>

<p>The <strong>build-essential</strong> package contains essential build tools that Julia needs to build some of its own packages. </p>

<p>If the installation was successful, then it is now possible to run Julia at the command prompt. You can test this by typing <strong>julia</strong>. Exit from Julia by typing <strong>exit()</strong>.</p>

<h3>
<a id="step-74-install-gmh-which-will-install-ijulia-and-additional-julia-packages" class="anchor" href="#step-74-install-gmh-which-will-install-ijulia-and-additional-julia-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ec2-install-gmh"></a>Step 7.4 Install GMH, which will install IJulia and additional Julia packages</h3>

<pre><code>julia -e 'Pkg.clone("git://github.com/QuantifyingUncertainty/GeneralizedMetropolisHastings.jl")'
</code></pre>

<p>The above step will install all packages required for GMH. The IJulia package (which enables access to Julia via a web browser) installs its own <a href="http://jupyter.org">Jupyter</a> server. To add this server to your path so it can be started from the command line, add this path to <strong>/home/ubuntu/.profile</strong>:</p>

<pre><code>echo 'PATH="$PATH:/home/ubuntu/.julia/v0.3/Conda/deps/usr/bin"' &gt;&gt; /home/ubuntu/.profile
</code></pre>

<h3>
<a id="step-75-prepare-a-jupyter-notebook-server-for-remote-access" class="anchor" href="#step-75-prepare-a-jupyter-notebook-server-for-remote-access" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ec2-jupyter-remote"></a>Step 7.5 Prepare a Jupyter Notebook server for remote access</h3>

<p>Create a file <strong>/home/ubuntu/.jupyter/jupyter_notebook_config.py</strong> with the following lines:</p>

<pre><code>c.NotebookApp.ip = '*'
c.NotebookApp.port = 8998
c.NotebookApp.open_browser = False
c.NotebookApp.keyfile = u'/home/ubuntu/.certificates/mykey.pem'
c.NotebookApp.certfile = u'/home/ubuntu/.certificates/mycert.pem'
c.NotebookApp.password = u''
</code></pre>

<h3>
<a id="step-76-create-the-ami" class="anchor" href="#step-76-create-the-ami" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="ami-create"></a>Step 7.6 Create the AMI</h3>

<p>Before creating the AMI, you must remove the SSH key with which the instance was started. To do so, follow the steps in the following article:</p>

<p><a href="https://aws.amazon.com/articles/0155828273219400">https://aws.amazon.com/articles/0155828273219400</a></p>

<p>Stop the instance customised above from the EC2 console, and follow these steps to create the AMI:</p>

<p><a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html#how-to-create-ebs-ami">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html#how-to-create-ebs-ami</a></p>

<p>Here are general guidelines to share a public AMI:
<a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/sharing-amis.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/sharing-amis.html</a></p>

<h2>
<a id="8-references-" class="anchor" href="#8-references-" aria-hidden="true"><span class="octicon octicon-link"></span></a>8. References <a name="refs"></a>
</h2>

<p><a name="calder14"></a>Calderhead B. (2014), <a href="http://www.pnas.org/content/111/49/17408.abstract">A general construction for parallelizing Metropolis-Hastings algorithms</a>, PNAS, Vol: 111, Pages: 17408-17413</p>

      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
